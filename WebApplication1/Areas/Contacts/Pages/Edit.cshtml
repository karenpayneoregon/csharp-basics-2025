@page
@model WebApplication1.Areas.Contacts.Pages.ContactEditModel
@{
    ViewData["Title"] = "Edit Contact";
}
<style>
    .input-widths {
        width: 15em;
    }

    .required::after {
        content: " (required)";
        font-weight: bold;
        color: crimson;
    }
</style>

<script src="~/lib/debugHelper.js"></script>


@* has two require markers *@


<div class="container mt-5">

    <div class="row justify-content-center">

        <div class="col-md-5">

            <h1 class="mb-3">Edit Contact</h1>

            <form method="post" class="border border-dark-subtle p-3 shadow">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                <input type="hidden" asp-for="Contact.ContactId" />

                <div class="form-group">

                    <div class="d-flex justify-content-between">
                        <div>
                            <label asp-for="Contact.FirstName" class="required"></label>
                        </div>
@*                         <div>
                            <span style="color: crimson;font-weight: bold">Required</span>
                        </div> *@
                    </div>

                    <input asp-for="Contact.FirstName"
                           class="form-control mb-2"
                           placeholder="Enter first name"
                           aria-label="First name" required />

                    <span asp-validation-for="Contact.FirstName" class="text-bg-dark fw-bold"></span>
                </div>

                <div class="form-group">
                    <div class="d-flex justify-content-between">
                        <div>
                            <label asp-for="Contact.LastName" class="required"></label>
                        </div>
@*                         <div>
                            <span style="color: crimson;font-weight: bold">Required</span>
                        </div> *@
                    </div>

                    <input asp-for="Contact.LastName"
                           class="form-control mb-2"
                           placeholder="Enter last name"
                           aria-label="Last name" required />

                    <span asp-validation-for="Contact.LastName" class="text-bg-dark fw-bold"></span>
                </div>


                <div class="form-group mb-5">

                    <div class="d-flex justify-content-between">
                        <div>
                            <label asp-for="Contact.ContactTypeIdentifier" class="required">Contact Type</label>
                        </div>
@*                         <div>
                            <span style="color: crimson;font-weight: bold">Required</span>
                        </div> *@
                    </div>


                    <select asp-for="Contact.ContactTypeIdentifier"
                            class="form-select input-widths"
                            asp-items="ViewBag.ContactTypeIdentifier"></select>

                    <span asp-validation-for="Contact.ContactTypeIdentifier"></span>
                </div>

                <div class="d-flex gap-2">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <a asp-page="./ContactList" class="btn btn-secondary">Back to list</a>
                </div>

            </form>

        </div>

    </div>

</div>

@{
    var showModal = ViewData["ShowAlertModal"] as bool? ?? false;
}

@if (showModal)
{
    <partial name="~/Areas/Views/Shared/_AlertModal.cshtml" model="Model.Alert" />
}

@section Scripts {

    <partial name="_ValidationScriptsPartial" />

    @if (showModal)
    {
        <script>
            (function () {
                var el = document.getElementById('alertModal');
                if (el && window.bootstrap) {
                    new bootstrap.Modal(el).show();
                }
            })();
        </script>
    }
}

<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.addEventListener('keydown', function (event) {
            if (event.key === '1' && event.altKey && event.ctrlKey) {
                if (!document.getElementById("debugger-inline-style")) {
                    $debugHelper.addCss();
                } else {
                    $debugHelper.removeCss();
                }
            }
        });
    });

</script>
